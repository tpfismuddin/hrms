<div class="modal-div">
    <div class="user-head">
        Add User Details
    </div>
    <form class="example-form">
        <div fxLayout="row wrap">
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Name</mat-label>
                <input matInput name='firstname' required minlength="4" #firstname="ngModel"
                    [(ngModel)]="masterDetails.name">
            </mat-form-field>
            <div *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="alert-danger">
                <div *ngIf="firstname.errors.required">
                    Name is required.
                </div>
                <div *ngIf="firstname.errors.minlength">
                    Name must be at least 4 characters long.
                </div>
            </div>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Title</mat-label>
                <input matInput name="title" required #title="ngModel" [(ngModel)]="masterDetails.title">
            </mat-form-field>
            <div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert-danger">
                <div *ngIf="title.errors.required">
                    Title is required.
                </div>
            </div>            
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Location</mat-label>
                <input matInput name="loc" required #loc="ngModel" [(ngModel)]="masterDetails.location">
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Mobile</mat-label>
                <input matInput name='mobile' required #mobile="ngModel" minlength="10" maxlength="10"
                    [(ngModel)]="masterDetails.mobile">
            </mat-form-field>
            <div *ngIf="mobile.invalid && (mobile.dirty || mobile.touched)" class="alert-danger">
                <div *ngIf="mobile.errors.required">
                    Mobile number is required.
                </div>
                <div *ngIf="mobile.errors.minlength">
                    Mobile number must be at least 10 characters long.
                </div>
            </div>
            <!-- <mat-form-field class="w-100" appearance="outline">
                <mat-label>Date of Birth</mat-label>
                <input matInput name="dob" type="date" required #dob="ngModel" [(ngModel)]="masterDetails.dob">
            </mat-form-field>
            <div *ngIf="dob.invalid && (dob.dirty || dob.touched)" class="alert-danger">
                <div *ngIf="dob.errors.required">
                    Date of Birth is required.
                </div>
            </div> -->
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Current Technology</mat-label>
                <input matInput name='tech' required #tech="ngModel" [(ngModel)]="masterDetails.curr_tech">
            </mat-form-field>
            <div *ngIf="tech.invalid && (tech.dirty || tech.touched)" class="alert-danger">
                <div *ngIf="tech.errors.required">
                    Current Technology is required.
                </div>
            </div>

            <!-- New section start -->
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Account</mat-label>
                <mat-select name="account" required [(ngModel)]="masterDetails.account" #account="ngModel">
                    <mat-option [value]="1" class="mat-normal-option">Digital</mat-option>
                    <mat-option [value]="2" class="mat-normal-option">Products</mat-option>
                    <mat-option [value]="3" class="mat-normal-option">Services</mat-option>
                    <mat-option [value]="4" class="mat-normal-option">Support</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Req</mat-label>
                <mat-select name="req" required [(ngModel)]="masterDetails.req" #account="ngModel">
                    <mat-option [value]="1" class="mat-normal-option">Full Stack</mat-option>
                    <mat-option [value]="2" class="mat-normal-option">RAVE</mat-option>
                    <mat-option [value]="3" class="mat-normal-option">iOS</mat-option>
                    <mat-option [value]="4" class="mat-normal-option">C++</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>EXPERIENCE</mat-label>
                <input matInput type='number' name="exp" required #exp="ngModel" [(ngModel)]="masterDetails.exp">
            </mat-form-field>
            <!-- New section end -->
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>CTC</mat-label>
                <input matInput type='number' name="ctc" required #ctc="ngModel" [(ngModel)]="masterDetails.ctc">
            </mat-form-field>
            <div *ngIf="ctc.invalid && (ctc.dirty || ctc.touched)" class="alert-danger">
                <div *ngIf="ctc.errors.required">
                    CTC is required.
                </div>
            </div>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>ECTC</mat-label>
                <input matInput name='ectc' type='number' required #ectc="ngModel" [(ngModel)]="masterDetails.ectc">
            </mat-form-field>
            <div *ngIf="ectc.invalid && (ectc.dirty || ectc.touched)" class="alert-danger">
                <div *ngIf="ectc.errors.required">
                    ECTC is required.
                </div>
            </div>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Notice period</mat-label>
                <input matInput name="notice" type='number' required minlength="2" #notice="ngModel"
                    [(ngModel)]="masterDetails.notice">
            </mat-form-field>
            <div *ngIf="notice.invalid && (notice.dirty || notice.touched)" class="alert-danger">
                <div *ngIf="notice.errors.required">
                    Notice Period is required.
                </div>
            </div>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Education</mat-label>
                <input matInput name="education" required #edu="ngModel" [(ngModel)]="masterDetails.edu">
            </mat-form-field>            
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Curr Company</mat-label>
                <input matInput name="curr" required #curr="ngModel" [(ngModel)]="masterDetails.currComp">
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Remarks</mat-label>
                <input matInput name="remarks" required #remarks="ngModel" [(ngModel)]="masterDetails.remarks">
            </mat-form-field>
            <div *ngIf="remarks.invalid && (remarks.dirty || remarks.touched)" class="alert-danger">
                <div *ngIf="remarks.errors.required">
                    Remarks is required.
                </div>
            </div>
            <div *ngIf="details.mode == 'EDIT'">
                <mat-radio-group name="status" aria-labelledby="example-radio-group-label" class="example-radio-group"
                    [(ngModel)]="masterDetails.status" (ngModelChange)="stateChange(masterDetails.status)">
                    <mat-radio-button class="example-radio-button" *ngFor="let j of jobStatus" [value]="j">
                        {{j}}
                    </mat-radio-button>
                </mat-radio-group>
                <!-- job openings -->
                <div class="" *ngIf="showJobs">
                    <mat-radio-group name="jobMap" aria-labelledby="example-radio-group-label"
                        class="example-radio-group" [(ngModel)]="masterDetails.jobMap">
                        <mat-radio-button class="example-radio-button" *ngFor="let j of jobs" [value]="j.jId">
                            {{j.title}}
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
            </div>
        </div>
        <mat-dialog-actions>
            <button *ngIf="details.mode == 'ADD'" mat-raised-button color="primary"
                (click)="add(masterDetails)">ADD</button>
            <button *ngIf="details.mode == 'EDIT'" mat-raised-button color="primary"
                (click)="edit(masterDetails)">UPDATE</button>
            <button mat-raised-button color="primary" (click)="close()">CANCEL</button>
        </mat-dialog-actions>
    </form>
</div>